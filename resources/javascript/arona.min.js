!function(e,o){"use strict";e.offlineEdge="file:"==e.location.protocol&&/Edge/.test(navigator.userAgent),e.storageOK=!(!navigator.cookieEnabled||offlineEdge||!e.localStorage),e.getPaths=function(){var o=e.location.pathname;return/\/report\/|\/download\/|\/donate\/|\/privacy\/|\/arona\/|\/code\/(index|$)/.test(o)?"../":""};var n=(new Date).getHours();e.Arona={sensei:storageOK&&localStorage.senseiName?localStorage.senseiName:"",cunny:{encoder:{A:"^😭💢",B:"^💢😭😭😭",C:"^💢😭💢😭",D:"^💢😭😭",E:"^😭",F:"^😭😭💢😭",G:"^💢💢😭",H:"^😭😭😭😭",I:"^😭😭",J:"^😭💢💢💢",K:"^💢😭💢",L:"^😭💢😭😭",M:"^💢💢",N:"^💢😭",O:"^💢💢💢",P:"^😭💢💢😭",Q:"^💢💢😭💢",R:"^😭💢😭",S:"^😭😭😭",T:"^💢",U:"^😭😭💢",V:"^😭😭😭💢",W:"^😭💢💢",X:"^💢😭😭💢",Y:"^💢😭💢💢",Z:"^💢💢😭😭",a:"😭💢",b:"💢😭😭😭",c:"💢😭💢😭",d:"💢😭😭",e:"😭",f:"😭😭💢😭",g:"💢💢😭",h:"😭😭😭😭",i:"😭😭",j:"😭💢💢💢",k:"💢😭💢",l:"😭💢😭😭",m:"💢💢",n:"💢😭",o:"💢💢💢",p:"😭💢💢😭",q:"💢💢😭💢",r:"😭💢😭",s:"😭😭😭",t:"💢",u:"😭😭💢",v:"😭😭😭💢",w:"😭💢💢",x:"💢😭😭💢",y:"💢😭💢💢",z:"💢💢😭😭",0:"💢💢💢💢💢",1:"😭💢💢💢💢",2:"😭😭💢💢💢",3:"😭😭😭💢💢",4:"😭😭😭😭💢",5:"😭😭😭😭😭",6:"💢😭😭😭😭",7:"💢💢😭😭😭",8:"💢💢💢😭😭",9:"💢💢💢💢😭",".":"😭💢😭💢😭💢",",":"💢💢😭😭💢💢","!":"💢😭💢😭💢💢","?":"😭😭💢💢😭😭","'":"😭💢💢💢💢😭",'"':"😭💢😭😭💢😭","/":"💢😭😭💢😭","(":"💢😭💢💢😭",")":"💢😭💢💢😭💢",":":"💢💢💢😭😭😭",";":"💢😭💢😭💢😭","=":"💢😭😭😭💢","+":"😭💢😭💢😭","-":"💢😭😭😭😭💢",_:"😭😭💢💢😭💢","@":"😭💢💢😭💢😭","&":"😭💢😭😭😭","`":"😭😭💢💢💢💢","~":"😭😭😭💢💢💢","\\":"💢😭😭💢💢","|":"💢💢💢😭💢","#":"😭😭😭💢😭💢",$:"😭😭😭💢😭😭💢","%":"💢😭😭💢😭💢","^":"💢💢💢😭💢💢💢","*":"😭💢😭💢💢","{":"💢💢💢😭💢😭","}":"💢💢💢😭😭💢","[":"💢😭😭💢😭😭","]":"💢😭😭💢💢😭","<":"😭😭😭😭💢💢",">":"💢💢😭😭😭😭","Ä":"^😭💢😭💢","Æ":"^😭💢😭💢","Ą":"^😭💢😭💢","À":"^😭💢💢😭💢","Å":"^😭💢💢😭💢","Ç":"^💢😭💢😭😭","Ĉ":"^💢😭💢😭😭","Ć":"^💢😭💢😭😭","Š":"^💢💢💢💢","Ĥ":"^💢💢💢💢","Ð":"^😭😭💢💢😭","Ś":"^😭😭😭💢😭😭😭","È":"^😭💢😭😭💢","Ł":"^😭💢😭😭💢","É":"^😭😭💢😭😭","Đ":"^😭😭💢😭😭","Ę":"^😭😭💢😭😭","Ĝ":"^💢💢😭💢😭","Ĵ":"^😭💢💢💢😭","Ź":"^💢💢😭😭💢😭","Ñ":"^💢💢😭💢💢","Ń":"^💢💢😭💢💢","Ö":"^💢💢💢😭","Ø":"^💢💢💢😭","Ó":"^💢💢💢😭","Ŝ":"^😭😭😭💢😭","Þ":"^😭💢💢😭😭","Ü":"^😭😭💢💢","Ŭ":"^😭😭💢💢","Ż":"^💢💢😭😭💢","ä":"😭💢😭💢","æ":"😭💢😭💢","ą":"😭💢😭💢","à":"😭💢💢😭💢","å":"😭💢💢😭💢","ç":"💢😭💢😭😭","ĉ":"💢😭💢😭😭","ć":"💢😭💢😭😭","š":"💢💢💢💢","ĥ":"💢💢💢💢","ð":"😭😭💢💢😭","ś":"😭😭😭💢😭😭😭","è":"😭💢😭😭💢","ł":"😭💢😭😭💢","é":"😭😭💢😭😭","đ":"😭😭💢😭😭","ę":"😭😭💢😭😭","ĝ":"💢💢😭💢😭","ĵ":"😭💢💢💢😭","ź":"💢💢😭😭💢😭","ñ":"💢💢😭💢💢","ń":"💢💢😭💢💢","ö":"💢💢💢😭","ø":"💢💢💢😭","ó":"💢💢💢😭","ŝ":"😭😭😭💢😭","þ":"😭💢💢😭😭","ü":"😭😭💢💢","ŭ":"😭😭💢💢","ż":"💢💢😭😭💢","\ude2d":"😭😭😭😭😭😭","\udca2":"💢💢💢💢💢💢","\udd80":"😭💢😭💢😭😭"," ":" "},decoder:{"💢😭😭😭😭💢😭":"\n"}},speech:{greetings:[["Hello, {Sensei}!",32],["Good "+(n<=11?"morning":n<=16?"afternoon":"evening")+", {Sensei}!",31],["How are you doing today, {Sensei}?",2],["What can I do for you today, {Sensei}?",3],["Let's do our best today, {Sensei}!",12]],encode:[["Message encoded!",12],["Let me know if you need anything else encoded.",13],["Heehee, 😭 is so funny looking.",32],["Did I do a good job?",25],["Encoding messages is so much fun!",11],["Can I have some strawberry milk now?",21],["Who are you sending this message to, Sensei?",2]],empty_encode:["I'm sorry, but I can't encode an empty message...",18],encode_error:[["S-Something went wrong!",28],["These characters were too hard for Arona to encode...",30],["Sorry, Sensei... Arona made an oopsie...",18],["Senseiii... these characters are too hard to encode.",24],["Sorry, Sensei... I tried.",10]],decode:[["Message decoded!",12],["I'll be here if you need to decode anything else.",13],["I wonder why 😭 and 💢 were used to encode these messages.",24],["How did I do?",25],["What does it say?",22],["Decoding these messages is like opening a fortune cookie, heehee...",23],["Who is this message from, Sensei?",2]],empty_decode:["You need to paste your Cunny Code into the input field first, then I can decode it for you!",4],swap:[["Swapped!",12],["I swapped the input and output for you!",31],["Swapping makes Arona dizzy...",29],["Round and round you go!",35],["Would you like to swap places with me, Sensei? I want to try some of the sweets in your world...",23]],empty_swap:["There's nothing to swap, Sensei.",24],name:{set:["Okay! Nice to meet you, {Sensei}!",32],empty:["I don't know what to call you if you don't write it, Sensei.",24]},special:{strawberry_milk:["I love strawberry milk!<br>Can I have some, Sensei?",21],how_are_you:["I'm doing good!<br>I hope you are as well, {Sensei}!",32],goodnight:["Goodnight, Sensei...",34],goodbye:["Aww... You're leaving already, Sensei? I wanted to spend more time with you...",24],youtube:['Here\'s your YouTube video, Sensei!<br><iframe id="video" src="https://www.youtube.com/embed/{ID}?autoplay=1" frameborder="0"></iframe>',32],uoh:["What are you uoh'ing at, Sensei?",2],cunny:["Am I cunny, Sensei?",31],cute_and_funny:["Is Arona cute and funny?",31],correction:["P-Please don't correct me, Sensei!<br>I've been good, I promise...!",18],kms:["Please don't do that, {Sensei}! Arona would be lonely without you...",28],seggs:["S-S-S-Se...!?",17],sixty_nine:["Why does everybody say 69 is a nice number, Sensei?",2],rickroll:['Never gonna let you down🎵<br><iframe id="video" src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1" frameborder="0"></iframe>',32,1/0],mutsuki:['Wouldn\'t you rather watch Arona dance? ...No? Fine...here\'s your dumb Mutsuki dance.<br><iframe id="video" src="https://www.youtube.com/embed/GfKkSmQrVJw?autoplay=1" frameborder="0"></iframe>',10,1/0],first_message:['The first Cunny Code message was sent on September 26th, 2024 by Seth-sensei. It asked the question: "Do you know Cunny Code?"',31,15e3],first_decoder:["The first person to decode Cunny Code before this tool was released was Haise-sensei on September 28th, 2024.<br>I heard he's a big fan of <img src=\""+getPaths()+'resources/images/kisaki-ball.png" style="height:40px; vertical-align:middle;" title="Kisaki" alt="Kisaki">!',31,15e3],sob:["Why are you sobbing, Sensei?",24],anger:["Y-You're not mad at me, are you?",15],kani:["You talk about 🦀 a lot, Sensei.<br>Is it because it's yummy?",23],arona_cute:["I-I'm not <em>that</em> cute, hehe...",13],arona_cunny:["Yay! I'm cunny!",12],arona_cute_and_funny:["Yay! Arona is cute and funny!",11],breedable:["I-I-I-I am...?",16],best:["Aww... Thank you, Sensei!",32],love:["I love you, too, {Sensei}!",11],arona:{encode:["What did you write about me?",2],decode:["What does it say about me?",2]},hate:["Y-You don't really mean that, do you...?",19],dumb:["A-Am not!<br>Stop being mean!",5],sucks:["Quit being mean, Sensei!",14],smells:["N-No I don't!<br>I had a shower before you got here!",18],smelly:["A-Am not!<br>I had a shower before you got here!",18],sorry:["Okay... I forgive you, Sensei!",13]},quit:["That's it! I'm done helping you, you big meanie!!",6],music:{play:["Yay! I love this music.<br>Do you like it, too, Sensei?",11],stop:["Aww... I wanted to keep listening to the music...",24]},copy:{success:[["Copied!",12],["I just copied the text to your clipboard!",32],["Copi--...huh? Ah! I-I wasn't looking at your clipboard history, I swear!",28],["Done! Make sure you don't lose it now!",31],["You're ready to share!",20]],fail:["I-I don't know why, but I couldn't copy the text to your clipboard... You'll have to do it manually. Sorry, Sensei...",30],empty:["You need to encode or decode something first before I can copy it to your clipboard.",26]},idle:[["Are you still there, Sensei?",2],["Where did you go, Sensei?",18],["I guess Sensei fell asleep...",10],["I'm bored, Sensei...",24],["Hmm hmm hmm... 🎵",33],["Lalala...! 🎶",13],["Maybe Sensei left to buy me some more strawberry milk.",23]],idle_sleep:[["Me? Doze off? Never... Zzz..."],["Zzz... Strawberry milk... Heeheehee..."],["There's no way I can eat all that..."],["Heehee... So yummy..."],["Heeheehee..."],["Zzz..."],["Sensei, you're so..."],["Sensei... So big..."],["No, Sensei... You can't do that..."],["Zzz... Sensei... Heehee..."]],idle_awaken:[["Welome back, {Sensei}!",11],["Sensei! I've been waiting for you!",12],["Ah! Sensei! Did you bring me back anything yummy!?",21],["I was lonely without you, Sensei...",24],["Ah! I-I wasn't sleeping!<br>I was just resting my eyes!",18]],touch:{head:["Heeheehee...",13],face:["Is there something on my face?",2],chest:["Y-You shouldn't touch Arona there, Sensei!",18],skirt:["W-What are you doing with my skirt!?",28],leg:["T-That tickles!",12],shoe:["Y-You can't take my shoes off, Sensei!<br>I saw what you did to Iori...!",30]},show_shoes:{start:["Okay! Just give me a second!",3],end:["What do you think of my shoes, Sensei?",2],shown:["I already did, silly!",12]},help:{prompt:['Do you need my help using this tool, {Sensei}?<div class="center"><button id="NEXT" onclick="Arona.help(Arona.helpStep); Arona.updateHelpPrompt(true);"><i>Yes</i></button><button onclick="Arona.say(Arona.speech.help.prompt_no[0]); Arona.updateHelpPrompt(false);"><i>No</i></button></div>',2,1/0],prompt_angry:['<strong style="color:red;">Do you need my help or not, {Sensei}...? I won\'t take NO for an answer this time...</strong><div class="center"><button id="NEXT" onclick="Arona.help(Arona.helpStep); Arona.updateHelpPrompt(true);"><i>Yes</i></button></div>',8,1/0],prompt_yes:["Okay! Let's start the tutorial!",12],prompt_no:[["Let me know if you change your mind!",3],["O-Okay... I'll be here if you need me.",24],["Y-You're not teasing me, are you?",28],["This isn't funny!",6],["Quit teasing me, Sensei!",14]],step1:['This tool is used for encoding and decoding messages, so the first thing you need to do is write something in the <strong>input field</strong> like I just did.<div class="center"><button id="NEXT" onclick="Arona.help(++Arona.helpStep);" style="display:none;"><i>Next</i></button></div>',20,1/0],step2:["Once you've written what you want, you can click the <strong>Encode button</strong> to encode your message.<br>Go ahead and click it, Sensei!",13,1/0],step3:['Wow, look! My message was encoded with cute and funny icons! You can copy and share this "Cunny Code" with other Senseis on the web!<div class="center"><button id="NEXT" onclick="Arona.help(++Arona.helpStep);"><i>Next</i></button></div>',32,1/0],step4:['When you want to decode another Sensei\'s "Cunny Code," paste it into the <strong>Input field</strong> and click the <strong>Decode button</strong>.<br>Go ahead and click it to decode my message!',22,1/0],step5:['Look! It decoded my message! And just like it says: you did a good job!<div class="center"><button id="NEXT" onclick="Arona.help(++Arona.helpStep);"><i>Next</i></button></div>',11,1/0],step6:['This concludes the tutorial!<br>I hope you have fun exchanging cute and funny messages with your friends, Sensei!<div class="center"><button id="NEXT" onclick="Arona.help(7); this.disabled = true;"><i>End Tutorial</i></button></div>',31,1/0]}},node:{arona:o.getElementById("arona"),holo:o.getElementById("holo"),body:o.getElementById("arona_body"),dialogue_container:o.getElementById("dialogue_container"),dialogue:o.getElementById("dialogue"),bg:o.getElementById("bg_layer"),input:o.getElementById("input"),output:o.getElementById("output"),encode:o.getElementById("encode"),decode:o.getElementById("decode"),error:o.getElementById("error"),help:o.getElementById("help"),bgm:o.getElementById("bgm_player"),bgm_icon:o.getElementById("bgm_icon")},encode:function(e,o){if(!e)return Arona.say(Arona.speech.empty_encode),!1;Arona.node.error&&(Arona.node.error.style.display="none");for(var n="",a=e.replace(/[\uFF01-\uFF5E]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)}),r="",t=0,s=a.length;t<s;t++)Arona.cunny.encoder[a[t]]?n+=Arona.cunny.encoder[a[t]]+(" "==a[t]||t+1==s?"":" "):/\r\n|\n|\r/.test(a[t])?n+="\n":/\s/.test(a[t])?n+=" ":/55358|55357|65039/.test(a[t].charCodeAt(0))||(r+=a[t],console.error("failed to encode: "+a[t]+" ("+a[t].charCodeAt(0)+")"));return Arona.node.output&&(Arona.node.output.value=n),o?/focused/.test(o.className)?(o.className="",Arona.help(++Arona.helpStep),!1):void(Arona.node.error&&r.length?(Arona.node.error.innerHTML='<h3>Error</h3><strong>The following could not be encoded.</strong><br><div class="overflow-box">'+r.replace(/</g,"&lt;")+'</div><a href="#close" class="close-button" onclick="this.parentNode.style.display = \'none\'; return false;" title="close"><i class="fa">&#xf00d;</i></a>',Arona.node.error.style.display="",Arona.randomizeMessage(Arona.speech.encode_error)):Arona.response(e,"encode")):n},decode:function(e,o){if(!e||!/💢|😭/.test(e))return Arona.say(Arona.speech.empty_decode),!1;Arona.node.error&&(Arona.node.error.style.display="none");for(var n="",a=e.replace(/^\s+|\s+$/g,"").replace(/\r\n|\n|\r/g,"💢😭😭😭😭💢😭 ").replace(/\s/g," ").split(" "),r=0,t=a.length;r<t;r++)Arona.cunny.decoder[a[r]]?n+=Arona.cunny.decoder[a[r]]:""==a[r]&&(n+=" ");return Arona.node.output&&(Arona.node.output.value=n),o?/focused/.test(o.className)?(o.className="",Arona.help(++Arona.helpStep),!1):void Arona.response(n,"decode"):n},swap:function(){if(!Arona.node.input.value&&!Arona.node.output.value)return Arona.say(Arona.speech.empty_swap),!1;var e=Arona.node.input.value;Arona.node.input.value=Arona.node.output.value,Arona.node.output.value=e,Arona.randomizeMessage(Arona.speech.swap)},anger:0,lastResponse:[],response:function(e,o){if(Arona.quitting)return!1;if(/^arona say .*?/i.test(e)&&Arona.say(e.replace(/^arona say /i,"").replace(/</g,"&lt;").replace(/\{\d+\}/g,""),/\{\d+\}/g.test(e)?e.replace(/.*?\{(\d+)\}.*/g,"$1"):31),/^(?:my name is|call me) .*?$/i.test(e)){var n=e.replace(/^(?:my name is|call me) (.*?)$/i,"$1").slice(0,20).replace(/</g,"&lt;");n.length?(Arona.sensei=n.slice(0,1).toUpperCase()+n.slice(1,n.length).toLowerCase(),Arona.say(Arona.speech.name.set),storageOK&&(localStorage.senseiName=Arona.sensei)):Arona.say(Arona.speech.name.empty)}else if(/show me your shoes/i.test(e))/show-shoes/.test(Arona.node.arona.className)?Arona.say(Arona.speech.show_shoes.shown[0]):Arona.say(Arona.speech.show_shoes.start[0],Arona.speech.show_shoes.start[1],1e3,function(){Arona.node.arona.className="arona-leave",setTimeout(function(){Arona.node.arona.className="show-shoes",Arona.say(Arona.speech.show_shoes.end)},1e3)});else if(/youtube\.com|youtu\.be/i.test(e)){var a=e.match(/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|live\/|watch\?v=)([^#\&\?]*).*/i);a&&a[1]&&(a=(/\s/.test(a[1])?a[1].split(/\s/)[0]:a[1]).replace(/</g,""),Arona.say(Arona.speech.special.youtube[0].replace("{ID}",a),Arona.speech.special.youtube[1],1/0),Arona.idlingStop=!0)}else/arona(?:, | )help(?: me|)|help(?: me|)(?:, | )arona/i.test(e)?Arona.help():Arona.anger>=5&&/(?:I'm |)sorry/i.test(e)&&!/not sorry/.test(e)?Arona.comeBack():/(?:hello|hi|hey|good day|good evening|good afternoon|good morning)(?:, | )arona/i.test(e)?Arona.say(Arona.speech.greetings[Math.floor(2*Math.random())]):/(?:goodbye|good-bye)(?:, | )arona/i.test(e)?Arona.say(Arona.speech.special.goodbye):/good(?: |)night(?:, | )arona|arona(?:, | )good(?: |)night/i.test(e)?Arona.say(Arona.speech.special.goodnight[0],Arona.speech.special.goodnight[1],3e3,function(){Arona.expression(34),Arona.sleep()}):/how are you(?:, | )arona\?/i.test(e)?Arona.say(Arona.speech.special.how_are_you):/who was the first (?:person |)to (?:crack|decode) cunny code(?:\?|)|who (?:cracked|decoded) cunny code first(?:\?|)/i.test(e)?Arona.say(Arona.speech.special.first_decoder):/who (?:shared|sent) the first cunny code(?: message| post|)(?:\?|)|what was the first cunny code message(?:\?|)/i.test(e)?Arona.say(Arona.speech.special.first_message):/never gonna give you up/i.test(e)?(Arona.say(Arona.speech.special.rickroll),Arona.idlingStop=!0):/mutsuki dance/i.test(e)?(Arona.say(Arona.speech.special.mutsuki),Arona.idlingStop=!0):/^69$|^69\s|\s69$|\s69\s/i.test(e)?Arona.say(Arona.speech.special.sixty_nine):/arona is cunny/i.test(e)?(Arona.say(Arona.speech.special.arona_cunny),Arona.anger>0&&Arona.anger--):/arona is cute and funny/i.test(e)?(Arona.say(Arona.speech.special.arona_cute_and_funny),Arona.anger>0&&Arona.anger--):/arona (?:is |)cute/i.test(e)?(Arona.say(Arona.speech.special.arona_cute),Arona.anger>0&&Arona.anger--):/arona (?:is |)(?:breedable|hot|sexy)/i.test(e)?(Arona.say(Arona.speech.special.breedable),Arona.anger>0&&Arona.anger--):/arona (?:is |)(?:best|the best|best girl)/i.test(e)?(Arona.say(Arona.speech.special.best),Arona.anger>0&&Arona.anger--):/I love (?:you |you, |)arona/i.test(e)?(Arona.say(Arona.speech.special.love),Arona.anger>0&&Arona.anger--):/I hate (?:you |you, |)arona/i.test(e)?(Arona.say(Arona.speech.special.hate),5==++Arona.anger&&Arona.quit()):/arona (?:is |)(?:dumb|stupid)/i.test(e)?(Arona.say(Arona.speech.special.dumb),5==++Arona.anger&&Arona.quit()):/arona (?:smells$|stinks)|arona (?:is |)(?:smelly|stinky)/i.test(e)?(Arona.say(Arona.speech.special[/smelly/.test(e)?"smelly":"smells"]),5==++Arona.anger&&Arona.quit()):/arona sucks/i.test(e)?(Arona.say(Arona.speech.special.sucks),5==++Arona.anger&&Arona.quit()):/correction/i.test(e)?Arona.say(Arona.speech.special.correction):/seggs|sex/i.test(e)?Arona.say(Arona.speech.special.seggs):/u[o]+h/i.test(e)?Arona.say(Arona.speech.special.uoh):/😭/i.test(e)?Arona.say(Arona.speech.special.sob):/💢/i.test(e)?Arona.say(Arona.speech.special.anger):/🦀/i.test(e)?Arona.say(Arona.speech.special.kani):/cunny/i.test(e)?Arona.say(Arona.speech.special.cunny):/cute and funny/i.test(e)?Arona.say(Arona.speech.special.cute_and_funny):/strawberry milk/i.test(e)?Arona.say(Arona.speech.special.strawberry_milk):/(?:kill|off) myself|kms|commit suicide/i.test(e)?Arona.say(Arona.speech.special.kms):/arona/i.test(e)?Arona.say(Arona.speech.special.arona[o]):Arona.randomizeMessage(Arona.speech[o])},randomizeMessage:function(e,o,n,a){o=o||"lastResponse",void 0===typeof Arona[o]&&(Arona[o]=[]);for(var r=e[Math.floor(Math.random()*e.length)];Arona[o]==r;)r=e[Math.floor(Math.random()*e.length)];n&&a?Arona.say(r[0],r[1]||1,n,a):n?Arona.say(r[0],r[1]||1,n):Arona.say(r),Arona[o]=r},quit:function(){Arona.quitting=!0,Arona.node.help.style.display="none",Arona.node.encode.disabled=!0,Arona.node.decode.disabled=!0,Arona.say(Arona.speech.quit[0],Arona.speech.quit[1],5e3,function(){Arona.node.arona.className="fade-out",setTimeout(function(){Arona.quitting=!1,Arona.node.encode.removeAttribute("disabled"),Arona.node.decode.removeAttribute("disabled"),Arona.node.arona.style.display="none"},950)})},comeBack:function(){Arona.node.arona.style.display="",Arona.node.arona.className="fade-in",Arona.node.help.style.display="",Arona.say(Arona.speech.special.sorry),Arona.anger=0},messageTimeout:null,messageDuration:1e4,say:function(e,o,n,a){if(!Arona.node.dialogue)return"dialogue not found";Arona.idlingStop&&(Arona.idlingStop=!1),Array.isArray(e)?(a=e[3]?e[3]:null,n=e[2]?e[2]:Arona.messageDuration,o=e[1]?e[1]:1,e=e[0]?e[0]:""):(o=o||1,n=n||Arona.messageDuration),/\{Sensei\}/i.test(e)&&(e=Arona.sensei?e.replace(/\{Sensei\}/gi,Arona.sensei+"-sensei"):e.replace(/\{Sensei\}/gi,"Sensei")),Arona.sleeping&&(Arona.node.bg.className="sleeptalk",Arona.node.bg.firstChild.className="fade-in"),Arona.expression(o),Arona.node.dialogue.innerHTML=e,Arona.node.body.className&&(Arona.node.body.className=""),Arona.messageTimeout&&(clearTimeout(Arona.messageTimeout),delete Arona.messageTimeout),Arona.node.dialogue_container.className="fade-in",n!=1/0?Arona.messageTimeout=setTimeout(function(){Arona.sleeping&&(Arona.node.bg.className="",Arona.node.bg.firstChild.className="fade-out"),Arona.expression(1),Arona.node.dialogue_container.className="fade-out",delete Arona.timeout,a&&a()},n):a&&a()},expression:function(e){Arona.node.holo&&(Arona.node.holo.src=getPaths()+"resources/images/arona/"+(e>35?1:e<=0?1:e)+".png")},voice:{ah:new Audio(getPaths()+"resources/audio/arona/ah.ogg"),heeheehee:new Audio(getPaths()+"resources/audio/arona/heeheehee.ogg"),huh:new Audio(getPaths()+"resources/audio/arona/huh.ogg"),sensei:new Audio(getPaths()+"resources/audio/arona/sensei.ogg")},speak:function(e){for(var o in Arona.voice)Arona.voice[o].paused||Arona.voice[o].pause();Arona.voice[e].load(),Arona.voice[e].play()},copyText:function(e){if(e)try{navigator.clipboard.writeText(e),Arona.randomizeMessage(Arona.speech.copy.success)}catch(e){console.error(e),Arona.say(Arona.speech.copy.fail)}else Arona.say(Arona.speech.copy.empty)},touch:function(e){e&&(Arona.say(Arona.speech.touch[e]),/head|leg/.test(e)?setTimeout(function(){Arona.node.body.className="jump",Arona.speak("heeheehee")},100):/chest|skirt|shoe/.test(e)?setTimeout(function(){Arona.node.body.className="shake",Arona.speak("ah")},100):/face/.test(e)&&setTimeout(function(){Arona.node.body.className="lean-in",Arona.speak("huh")},100))},write:function(e,o){if(!Arona.node.input)return"input not found";Arona.writingTimeout&&(clearTimeout(Arona.writingTimeout),delete Arona.writingTimeout),!Arona.writing&&e?(Arona.writing=!0,Arona.writingMsg=e,Arona.writingIndex=0,Arona.writingLimit=e.length,Arona.writingCallback=o,Arona.node.input.value="",Arona.writingTimeout=setTimeout(Arona.writingLoop,Math.floor(100*Math.random())+100)):Arona.writingTimeout=setTimeout(Arona.writingLoop,Math.floor(100*Math.random())+100)},writing:!1,writingMsg:null,writingIndex:null,writingLimit:null,writingTimeout:null,writingCallback:null,writingLoop:function(){Arona.writingTimeout&&delete Arona.writingTimeout,Arona.node.input.value+=Arona.writingMsg[Arona.writingIndex++],Arona.writingIndex<Arona.writingLimit?Arona.write():(Arona.writing=!1,Arona.writingCallback&&(Arona.writingCallback(),Arona.writingCallback=null))},helping:!1,helpStep:1,help:function(e){if(e)switch(e){case 1:if(Arona.helping=!0,!o.getElementById("tutorial-overlay")){(n=o.createElement("DIV")).id="tutorial-overlay",n.className="fade-in",o.body.className="tutorial",o.body.appendChild(n)}Arona.node.bg.className="",Arona.say(Arona.speech.help.prompt_yes[0],Arona.speech.help.prompt_yes[1],3e3,function(){Arona.node.input.className="focused",Arona.node.input.disabled=!0,Arona.write("I love strawberry milk!",function(){var e=o.getElementById("NEXT");e.style.display="",e.focus()}),Arona.say(Arona.speech.help.step1)});break;case 2:Arona.node.input.className="",Arona.node.encode.className="focused",Arona.node.encode.focus(),Arona.say(Arona.speech.help.step2);break;case 3:Arona.node.output.disabled=!0,Arona.node.output.className="focused",Arona.say(Arona.speech.help.step3),o.getElementById("NEXT").focus();break;case 4:Arona.node.input.value="^💢💢😭 💢💢💢 💢💢💢 💢😭😭  😭💢💢💢 💢💢💢 💢😭😭😭 💢😭💢😭💢💢",Arona.node.output.value="",Arona.node.output.className="",Arona.node.input.className="focused no-outline",Arona.node.decode.className="focused",Arona.node.decode.focus(),Arona.say(Arona.speech.help.step4);break;case 5:Arona.node.output.className="focused",Arona.node.input.className="",Arona.node.decode.className="",Arona.say(Arona.speech.help.step5),o.getElementById("NEXT").focus();break;case 6:Arona.node.output.className="",Arona.say(Arona.speech.help.step6),o.getElementById("NEXT").focus();break;case 7:Arona.helping=!1,Arona.node.input.value="",Arona.node.output.value="",Arona.node.output.className="",Arona.node.input.removeAttribute("disabled"),Arona.node.output.removeAttribute("disabled"),Arona.helpStep=1,o.body.removeChild(o.getElementById("tutorial-overlay")),o.body.className="",Arona.node.dialogue_container.className="fade-out"}else if(!Arona.helping){if(Arona.helpDenied>=5){o.body.style.backgroundImage="url("+getPaths()+"resources/images/bg-red.png);";var n;(n=o.createElement("DIV")).id="tutorial-overlay",n.className="fade-in",o.body.className="tutorial red",o.body.appendChild(n),Arona.node.bg.className="fade-in"}else Arona.speak("sensei");Arona.say(Arona.speech.help.prompt),o.getElementById("NEXT").focus()}},helpDenied:0,updateHelpPrompt:function(e){if(e){if(Arona.helpDenied>=5){var n=Arona.speech.help.prompt;Arona.speech.help.prompt=Arona.speech.help.prompt_angry,Arona.speech.help.prompt_angry=n,o.body.className="tutorial"}Arona.speech.help.prompt[0]=Arona.speech.help.prompt[0].replace(/Arona\.speech\.help\.prompt_no\[\d\]/g,"Arona.speech.help.prompt_no[0]"),Arona.helpDenied=0}else if(Arona.helpDenied++,Arona.helpDenied<5)Arona.speech.help.prompt[0]=Arona.speech.help.prompt[0].replace(/Arona\.speech\.help\.prompt_no\[\d\]/g,"Arona.speech.help.prompt_no["+Arona.helpDenied+"]");else{n=Arona.speech.help.prompt;Arona.speech.help.prompt=Arona.speech.help.prompt_angry,Arona.speech.help.prompt_angry=n}},sleeping:!1,idleCount:0,idling:null,lastIdleMsg:[],idle:function(e){if(e)for(var n=["click","keydown","mousemove","scroll","touch"],a=0,r=n.length;a<r;a++)o.addEventListener(n[a],function(){Arona.idleCount=0,Arona.idle(),Arona.aboutToSleep&&(clearTimeout(Arona.aboutToSleep),delete Arona.aboutToSleep,/34\.png/.test(Arona.node.holo.src)&&Arona.expression(1)),Arona.awaken()});Arona.idling&&(clearTimeout(Arona.idling),delete Arona.idling),Arona.idling=setTimeout(function(){if(/tutorial/.test(o.body.className)||Arona.anger>=5||Arona.idlingStop)return!1;Arona.randomizeMessage(Arona.speech["idle"+(Arona.sleeping?"_sleep":"")],"lastIdleMsg",1e4,function(){Arona.aboutToSleep&&Arona.expression(34)}),6==++Arona.idleCount&&(Arona.aboutToSleep=setTimeout(Arona.sleep,15e3)),delete Arona.idling,Arona.idle()},3e4)},sleep:function(){Arona.sleeping||(Arona.idleCount<6&&(Arona.idleCount=6),Arona.sleeping=!0,o.body.className="sleep",Arona.node.arona.className="",Arona.node.bg.className="fade-in",Arona.node.body.className="fade-out",Arona.node.dialogue_container.className="fade-out",Arona.aboutToSleep&&(clearTimeout(Arona.aboutToSleep),delete Arona.aboutToSleep))},awaken:function(){Arona.sleeping&&(Arona.sleeping=!1,Arona.expression(23),Arona.node.bg.className="fade-out",Arona.node.dialogue_container.className="fade-out",Arona.node.body.className="fade-in",setTimeout(function(){o.body.className="",Arona.node.bg.firstChild.className="",Arona.randomizeMessage(Arona.speech.idle_awaken,"lastAwakenMessage")},900))},toggleBGM:function(e){Arona.node.bgm.paused?(Arona.node.bgm.play(),Arona.node.bgm_icon.src=getPaths()+"resources/images/play.png",Arona.say(Arona.speech.music.play)):(Arona.node.bgm.pause(),Arona.node.bgm_icon.src=getPaths()+"resources/images/mute.png",Arona.say(Arona.speech.music.stop))},preload:{imgPath:getPaths()+"resources/images/",assets:function(){for(var e=["bg_sleep.png","bg_sleeptalk.png","bg_red.png","play.png"],o=35;1!=o;)e.push("arona/"+o--+".png");Arona.preload.queue=e,Arona.preload.loaded=0,Arona.preload.worker=setInterval(function(){var e=Arona.preload.queue[Arona.preload.loaded];e?(Arona.preload.image(e),Arona.preload.loaded++):(clearInterval(Arona.preload.worker),delete Arona.preload.worker)},100)},image:function(e){(new Image).src=Arona.preload.imgPath+e}}};for(var a in Arona.cunny.encoder)Arona.cunny.decoder[Arona.cunny.encoder[a]]="\ude2d"==a?"😭":"\udca2"==a?"💢":"\udd80"==a?"🦀":a;for(var a in Arona.voice)Arona.voice[a].volume=.4;if(Arona.node.bgm&&(Arona.node.bgm.volume=.4),"file:"==e.location.protocol)for(var r=o.getElementsByTagName("A"),t=0,s=r.length;t<s;t++)/http/.test(r[t].href)||(/\/$/.test(r[t].href)?r[t].href+="index.html":/\/#.*?$/.test(r[t].href)?r[t].href=r[t].href.replace(/(#.*?)$/,"index.html$1"):/\/\?.*?$/.test(r[t].href)&&(r[t].href=r[t].href.replace(/(\?.*?)$/,"index.html$1")));Arona.node.input&&(Arona.node.input.focus(),Arona.node.input.oninput=function(){/:(?:sob|uoh):/gi.test(this.value)&&(this.value=this.value.replace(/:(?:sob|uoh):/gi,"😭")),/:(?:anger|correction):/gi.test(this.value)&&(this.value=this.value.replace(/:(?:anger|correction):/gi,"💢")),/:(?:crab|kani):/gi.test(this.value)&&(this.value=this.value.replace(/:(?:crab|kani):/gi,"🦀"))},Arona.node.input.onkeydown=function(e){/enter/i.test(e.key)&&!e.shiftKey&&e.preventDefault()},Arona.node.input.onkeyup=function(e){if(e.shiftKey)return!1;/enter/i.test(e.key)&&(/[A-Z0-9.,!?'"/\(\):;=+\-_@&`~\\\|#$%*\{\}\[\]<>🦀ÄÆĄÀÅÇĈĆŠĤÐŚÈŁÉĐĘĜĴŹÑŃÖØÓŜÞÜŬŻ]/i.test(this.value)&&/😭|💢/.test(this.value)?Arona.encode(this.value,this):/😭|💢/.test(this.value)?Arona.decode(this.value,this):Arona.encode(this.value,this))},Arona.node.output.onkeyup=function(e){/enter/i.test(e.key)&&(this.select(),Arona.copyText(this.value))})}(window,document);